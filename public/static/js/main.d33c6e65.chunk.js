(this["webpackJsonpthe-social-chef"]=this["webpackJsonpthe-social-chef"]||[]).push([[0],{38:function(e,t,n){},48:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(20),s=n.n(r),i=n(9),j=(n(48),n(5)),a=n(7),o=(n(38),n(64)),u=n(1);var l=function(e){var t=e.recipe;return console.log(t),void 0!=t?Object(u.jsx)(o.a,{children:Object(u.jsx)(i.b,{to:"/recipes/".concat(t.id),children:Object(u.jsx)(o.a.Title,{children:t.name})})}):null};var b=function(e){var t=e.user;return console.log(t),void 0!=t?Object(u.jsx)(o.a,{children:Object(u.jsx)(i.b,{to:"/chefs/".concat(t.id),children:t.username})}):null},h=n(58);var O=function(e){var t=e.currentUser,n=e.recipes,r=e.users,s=Object(c.useState)([]),i=Object(j.a)(s,2),a=i[0],o=i[1],O=Object(c.useState)(""),d=Object(j.a)(O,2),x=d[0],f=d[1],p=Object(c.useState)(""),m=Object(j.a)(p,2),g=m[0],v=m[1];return Object(c.useEffect)((function(){return o(n.filter((function(e){return e.user.id==t.id})))}),[t,n]),Object(c.useEffect)((function(){for(var e=[],t=0;t<4;t++)e.push(n[Math.floor(Math.random()*n.length)]);f(e);for(var c=[],s=0;s<4;s++)c.push(r[Math.floor(Math.random()*r.length)]);v(c)}),[n,r]),""!=t?Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"The Social Chef!"}),Object(u.jsx)("h3",{children:"My Recipes"}),Object(u.jsx)("ul",{children:a.map((function(e){return Object(u.jsx)(l,{recipe:e})}))})]}):Object(u.jsxs)(h.a,{children:[Object(u.jsxs)(h.a,{children:[Object(u.jsx)("h1",{children:"The Social Chef!"}),Object(u.jsx)("h3",{children:"Start sharing and exploring recipes by signing up or logging in!"})]}),Object(u.jsxs)(h.a,{children:[Object(u.jsx)("h2",{children:"Check out these recipes!"}),Object(u.jsx)("ul",{children:""!=x?x.map((function(e){return Object(u.jsx)(l,{recipe:e})})):null}),Object(u.jsx)("h2",{children:"Some of the Chefs!"}),Object(u.jsx)("ul",{children:""!=g?g.map((function(e){return Object(u.jsx)(b,{user:e})})):null})]})]})},d=n(61),x=n(62);var f=function(e){return""!=e.currentUser?Object(u.jsx)("div",{children:Object(u.jsx)(d.a,{className:"sidenav",children:Object(u.jsx)(x.a,{children:Object(u.jsxs)("ul",{children:[Object(u.jsx)(i.c,{className:"sidenavLink",to:"/",children:"Home"}),Object(u.jsx)(i.c,{className:"sidenavLink",to:"/recipes",exact:"true",children:"Recipes"}),Object(u.jsx)(i.c,{className:"sidenavLink",to:"/chefs",exact:"true",children:"Chefs"}),Object(u.jsx)(i.c,{className:"sidenavLink",to:"/recipes/create",exact:"true",children:"Share Recipe"})]})})})}):Object(u.jsx)("div",{children:Object(u.jsx)(d.a,{className:"sidenav",children:Object(u.jsx)(x.a,{children:Object(u.jsxs)("ul",{children:[Object(u.jsx)(i.c,{className:"sidenavLink",to:"/",children:"Home"}),Object(u.jsx)(i.c,{className:"sidenavLink",to:"/recipes",exact:"true",children:"Recipes"}),Object(u.jsx)(i.c,{className:"sidenavLink",to:"/chefs",exact:"true",children:"Chefs"})]})})})})};var p=function(e){var t=e.currentUser,n=e.setCurrentUser,c=Object(a.f)();return""!==t?Object(u.jsx)(d.a,{children:Object(u.jsxs)(h.a,{children:[Object(u.jsxs)("h3",{style:{float:"left"},children:["Welcome ",t.username]}),Object(u.jsx)("div",{style:{float:"right"},"data-initials":t.first_name[0]+t.last_name[0]}),Object(u.jsx)(x.a.Link,{style:{float:"right"},onClick:function(e){e.preventDefault(),console.log("yeet"),fetch("/logout",{method:"DELETE"}).then(n("")).then(c("/"))},children:"Logout"}),Object(u.jsx)(i.c,{to:"/account",style:{textDecoration:"none"},children:"Account"})]})}):Object(u.jsxs)("div",{children:[Object(u.jsx)(i.c,{to:"/login",children:"Login"}),Object(u.jsx)(i.c,{to:"/signup",children:"Sign Up"})]})};var m=function(e){var t=e.onLogin,n=Object(c.useState)(""),r=Object(j.a)(n,2),s=r[0],i=r[1],o=Object(c.useState)(""),l=Object(j.a)(o,2),b=l[0],h=l[1],O=Object(a.f)();return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Login"}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("yeet"),fetch("/api/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,password:b})}).then((function(e){e.ok?(e.json().then((function(e){return t(e)})),O("/")):e.json().then((function(e){return alert(e.errors)}))}))},children:[Object(u.jsx)("label",{children:"username: "}),Object(u.jsx)("input",{type:"text",onChange:function(e){return i(e.target.value)}}),Object(u.jsx)("label",{children:"password: "}),Object(u.jsx)("input",{type:"text",onChange:function(e){return h(e.target.value)}}),Object(u.jsx)("button",{children:"login"})]})]})};var g=function(e){var t=e.recipes;return console.log(t),Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Recipe List"}),Object(u.jsx)("ul",{children:t.map((function(e){return Object(u.jsx)(l,{recipe:e})}))})]})},v=n(17),C=n(59),y=n(35);var S=function(e){var t=e.comment;return console.log(t),Object(u.jsxs)(o.a,{children:[Object(u.jsx)("p",{children:t.comment}),Object(u.jsxs)("p",{children:["from: ",t.user.username]}),Object(u.jsx)("div",{children:Object(v.a)(Array(5)).map((function(e,n){return Object(u.jsxs)("label",{children:[Object(u.jsx)("input",{type:"radio",name:"rating",value:n}),Object(u.jsx)(y.a,{color:n<t.rating?"#ffc107":"",size:20})]})}))})]})},L=n(63);var k=function(e){var t=e.handleAddComment,n=Object(c.useState)(null),r=Object(j.a)(n,2),s=r[0],i=r[1],a=Object(c.useState)(null),l=Object(j.a)(a,2),b=l[0],h=l[1];return Object(u.jsx)(o.a,{children:Object(u.jsxs)(L.a,{onSubmit:function(e){return t(e,b,s)},children:[Object(u.jsx)("input",{type:"text",placeholder:"add comment here",onChange:function(e){return h(e.target.value)}}),Object(v.a)(Array(5)).map((function(e,t){return t+=1,Object(u.jsxs)("label",{children:[Object(u.jsx)("input",{type:"radio",name:"rating",value:t,onClick:function(){return i(t)}}),Object(u.jsx)(y.a,{className:"star",color:t<=s?"#ffc107":"",size:20})]})})),Object(u.jsx)(C.a,{type:"submit",children:"Submit Comment"})]})})};var N=function(e){var t=e.currentUser,n=e.handleDeleteRecipe,r=Object(c.useState)(""),s=Object(j.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)(0),b=Object(j.a)(l,2),h=b[0],O=b[1],d=Object(c.useState)([]),x=Object(j.a)(d,2),f=x[0],p=x[1],m=Object(a.g)().id;function g(){O(!h)}return Object(c.useEffect)((function(){fetch("/api/recipes/".concat(m)).then((function(e){return e.json()})).then((function(e){o(e),p(e.comments)}))}),[]),""!=i?Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:i.name}),Object(u.jsxs)("h3",{children:["By: ",i.user.username," "]}),Object(u.jsx)("h3",{children:"Ingredients"}),Object(u.jsx)("ul",{children:i.recipe_ingredients.map((function(e){return Object(u.jsx)("li",{children:e.quantity+" "+e.unit+" "+e.ingredient.name},e.id)}))}),Object(u.jsx)("h3",{children:"Cooking Instructions"}),Object(u.jsx)("p",{children:i.instructions}),function(){if(i.user.username==t.username)return Object(u.jsx)(C.a,{onClick:function(e){return n(e,m)},children:"Delete"})}(),Object(u.jsx)("h3",{children:"Comments"}),""!=t?Object(u.jsx)("button",{type:"button",onClick:g,children:"Add Comment"}):"",1==h?Object(u.jsx)(k,{recipe:i,currentUser:t,handleAddComment:function(e,n,c){e.preventDefault(),fetch("/api/comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipe_id:i.id,user_id:t.id,comment:n,rating:c})}).then((function(e){e.ok&&e.json().then((function(e){return p([e].concat(Object(v.a)(f)))}))})),g()}}):null,Object(u.jsx)("ul",{children:f.map((function(e){return Object(u.jsx)(S,{comment:e})}))})]}):Object(u.jsx)("p",{children:"loading..."})};var U=function(e){var t=e.users;return console.log(t),Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Chef List"}),Object(u.jsx)("ul",{children:t.map((function(e){return Object(u.jsx)(b,{user:e})}))})]})};var D=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],s=Object(a.g)().id;return Object(c.useEffect)((function(){fetch("/api/chefs/".concat(s)).then((function(e){return e.json()})).then((function(e){return r(e)}))}),[]),console.log(n.recipes),""!=n?Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:n.username}),Object(u.jsx)("p",{children:n.bio}),Object(u.jsx)("ul",{children:void 0!=n.recipes?n.recipes.map((function(e){return Object(u.jsx)(l,{recipe:e})})):null})]}):Object(u.jsx)("p",{children:"loading"})};var E=function(e){var t=e.onLogin,n=Object(c.useState)(""),r=Object(j.a)(n,2),s=r[0],i=r[1],o=Object(c.useState)(""),l=Object(j.a)(o,2),b=l[0],O=l[1],d=Object(c.useState)(""),x=Object(j.a)(d,2),f=x[0],p=x[1],m=Object(c.useState)(""),g=Object(j.a)(m,2),v=g[0],y=g[1],S=Object(c.useState)(""),k=Object(j.a)(S,2),N=k[0],U=k[1],D=Object(c.useState)(""),E=Object(j.a)(D,2),T=E[0],R=E[1],w=Object(a.f)();return Object(u.jsx)(h.a,{children:Object(u.jsxs)(L.a,{className:"signup",onSubmit:function(e){e.preventDefault(),console.log("yeet"),fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:v,password:N,first_name:s,last_name:b,email:f,password_confirmation:T})}).then((function(e){e.ok&&e.json().then((function(e){return t(e)}))})).then(w("/"))},children:[Object(u.jsx)("h1",{children:"Sign Up!"}),Object(u.jsxs)(L.a.Group,{children:[Object(u.jsx)(L.a.Label,{children:"first name: "}),Object(u.jsx)(L.a.Control,{type:"text",onChange:function(e){return i(e.target.value)}})]}),Object(u.jsx)(L.a.Label,{children:"last name: "}),Object(u.jsx)(L.a.Control,{type:"text",onChange:function(e){return O(e.target.value)}}),Object(u.jsx)(L.a.Label,{children:"email: "}),Object(u.jsx)(L.a.Control,{type:"email",onChange:function(e){return p(e.target.value)}}),Object(u.jsx)(L.a.Label,{children:"username: "}),Object(u.jsx)(L.a.Control,{type:"text",onChange:function(e){return y(e.target.value)}}),Object(u.jsx)(L.a.Label,{children:"password: "}),Object(u.jsx)(L.a.Control,{type:"password",onChange:function(e){return U(e.target.value)}}),Object(u.jsxs)(L.a.Group,{children:[Object(u.jsx)(L.a.Label,{children:"confirm password: "}),Object(u.jsx)(L.a.Control,{type:"password",onChange:function(e){return R(e.target.value)}})]}),Object(u.jsx)(C.a,{type:"signup",children:"sign up"})]})})};var T=function(e){var t=e.addIngredient,n=Object(c.useState)(""),r=Object(j.a)(n,2),s=r[0],i=r[1],a=Object(c.useState)(""),o=Object(j.a)(a,2),l=o[0],b=o[1],h=Object(c.useState)(""),O=Object(j.a)(h,2),d=O[0],x=O[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Ingredient: "}),Object(u.jsx)("input",{type:"text",onChange:function(e){return i(e.target.value)}}),Object(u.jsx)("label",{children:"Quantity:"}),Object(u.jsx)("input",{type:"text",onChange:function(e){return b(e.target.value)}}),Object(u.jsx)("label",{children:"Unit:"}),Object(u.jsx)("input",{type:"text",onChange:function(e){return x(e.target.value)}}),Object(u.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),t(s,l,d)},children:"Add Ingredient"})]})};var R=function(e){var t=e.recipes,n=e.setRecipes,r=Object(c.useState)(""),s=Object(j.a)(r,2),i=s[0],l=s[1],b=Object(c.useState)([]),O=Object(j.a)(b,2),d=O[0],x=O[1],f=Object(c.useState)(""),p=Object(j.a)(f,2),m=p[0],g=p[1],C=Object(a.f)();return console.log(d),Object(u.jsxs)(h.a,{children:[Object(u.jsxs)(o.a,{children:[Object(u.jsx)("h1",{children:"Create New Recipe"}),Object(u.jsxs)(L.a,{children:[Object(u.jsx)("label",{children:"Recipe Name"}),Object(u.jsx)("input",{type:"text",onChange:function(e){return l(e.target.value)}})]})]}),Object(u.jsx)(o.a,{children:Object(u.jsxs)(L.a,{children:[Object(u.jsx)("h2",{children:"Ingredients"}),Object(u.jsx)(T,{addIngredient:function(e,t,n){var c={ingredient:e,quantity:t,unit:n},r=[].concat(Object(v.a)(d),[c]);x(r)}}),Object(u.jsx)("ul",{children:d.length>0&&d.map((function(e){return Object(u.jsxs)("li",{children:[e.ingredient," ",e.quantity," ",e.unit]},e.ingredient)}))})]})}),Object(u.jsx)(o.a,{children:Object(u.jsxs)(L.a,{children:[Object(u.jsx)("h2",{children:"Instructions"}),Object(u.jsx)("label",{children:"Cooking Instructions: "}),Object(u.jsx)("textarea",{type:"paragraph_text",cols:"80",onChange:function(e){return g(e.target.value)}})]})}),Object(u.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),fetch("/api/recipes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i,recipe_ingredients:d,instructions:m})}).then((function(e){e.ok&&(C("/recipes"),e.json().then((function(e){return n([].concat(Object(v.a)(t),[e]))})))}))},children:"Submit Recipe"})]})};var w=function(e){var t=e.currentUser,n=e.setCurrentUser,c=Object(a.f)();return Object(u.jsxs)(h.a,{children:[Object(u.jsxs)("h1",{children:["Welcome ",t.first_name]}),Object(u.jsx)(C.a,{onClick:function(){fetch("/users/".concat(t.id),{method:"DELETE"}).then((function(e){e.ok&&(n(""),c("/"))}))},children:"Delete Account"})]})},I=(n(55),n(60)),_=n(42);var A=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)([]),i=Object(j.a)(s,2),o=i[0],l=i[1],b=Object(c.useState)(""),d=Object(j.a)(b,2),x=d[0],v=d[1],C=Object(a.f)();return Object(c.useEffect)((function(){fetch("/api/users").then((function(e){return e.json()})).then((function(e){return r(e)})).then((function(){return fetch("/api/recipes")})).then((function(e){return e.json()})).then((function(e){return l(e)}))}),[]),Object(c.useEffect)((function(){fetch("/api/auth").then((function(e){e.ok&&e.json().then((function(e){return v(e)}))}))}),[]),Object(u.jsxs)("div",{className:"main",children:[Object(u.jsx)(h.a,{children:Object(u.jsx)(I.a,{children:Object(u.jsx)(p,{currentUser:x,setCurrentUser:v})})}),Object(u.jsx)(h.a,{margin:"10px",children:Object(u.jsxs)(I.a,{children:[Object(u.jsx)(_.a,{lg:3,children:Object(u.jsx)(f,{currentUser:x})}),Object(u.jsx)(_.a,{lg:!0,children:Object(u.jsxs)(a.c,{children:[Object(u.jsx)(a.a,{path:"/",element:Object(u.jsx)(O,{currentUser:x,recipes:o,users:n})}),Object(u.jsx)(a.a,{path:"/recipes",element:Object(u.jsx)(g,{recipes:o})}),Object(u.jsx)(a.a,{path:"/recipes/:id",element:Object(u.jsx)(N,{currentUser:x,handleDeleteRecipe:function(e,t){e.preventDefault(),fetch("/api/recipes/".concat(t),{method:"DELETE"}).then((function(e){e.ok&&(l(o.filter((function(e){return e.id!=t}))),C("/recipes"))}))}})}),Object(u.jsx)(a.a,{path:"/chefs",element:Object(u.jsx)(U,{users:n})}),Object(u.jsx)(a.a,{path:"/chefs/:id",element:Object(u.jsx)(D,{})}),Object(u.jsx)(a.a,{path:"/login",element:Object(u.jsx)(m,{onLogin:v})}),Object(u.jsx)(a.a,{path:"/signup",element:Object(u.jsx)(E,{onLogin:v})}),Object(u.jsx)(a.a,{path:"/recipes/create",element:Object(u.jsx)(R,{recipes:o,setRecipes:l})}),Object(u.jsx)(a.a,{path:"/account",element:Object(u.jsx)(w,{currentUser:x,setCurrentUser:v})})]})})]})})]})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,65)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),s(e),i(e)}))};s.a.render(Object(u.jsx)(i.a,{children:Object(u.jsx)(A,{})}),document.getElementById("root")),J()}},[[56,1,2]]]);
//# sourceMappingURL=main.d33c6e65.chunk.js.map